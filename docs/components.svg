<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="611px" preserveAspectRatio="none" style="width:1209px;height:611px;" version="1.1" viewBox="0 0 1209 611" width="1209px" zoomAndPan="magnify"><defs><filter height="300%" id="f1u9qwkia914as" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[6b92be63a5d978ba79b909e353a1241e]
cluster snode--><polygon fill="#FFFFFF" filter="url(#f1u9qwkia914as)" points="546,6,652,6,659,28.2969,1144,28.2969,1144,271,546,271,546,6" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="546" x2="659" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="550" y="20.9951">Sensor Node</text><!--MD5=[0e004d10fa3aa19825bb85d3d0c3cd6e]
cluster module--><polygon fill="#FFFFFF" filter="url(#f1u9qwkia914as)" points="446,334,567,334,574,356.2969,1187,356.2969,1187,599,446,599,446,334" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="446" x2="574" y1="356.2969" y2="356.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="115" x="450" y="348.9951">Addon module</text><!--MD5=[4ef80439e1ef409f8f3a0ec422262701]
cluster server--><polygon fill="#FFFFFF" filter="url(#f1u9qwkia914as)" points="16,14,73,14,80,36.2969,382,36.2969,382,447,16,447,16,14" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="16" x2="80" y1="36.2969" y2="36.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="20" y="28.9951">Server</text><!--MD5=[3d15fd212a4bff22fb41b884aeefe184]
entity esp32--><rect fill="#FEFECE" filter="url(#f1u9qwkia914as)" height="78.8906" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="562.5" y="41"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="721.5" y="46"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="719.5" y="48"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="719.5" y="52"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="139" x="577.5" y="73.9951">«ESP-WROOM-32E»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="592" y="90.292">Microcontroller</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="592" y="106.5889">WiFi Module</text><!--MD5=[d16445b3d1c9b742b25ba91ee8b4b55a]
entity ldo--><rect fill="#FEFECE" filter="url(#f1u9qwkia914as)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="1020.5" y="49"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="1107.5" y="54"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1105.5" y="56"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1105.5" y="60"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="1035.5" y="81.9951">3.3V LDO</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="1035.5" y="98.292">&gt;500mA</text><!--MD5=[3aadc04e3f3d8483012405e9c2c7d4a1]
entity BME280--><rect fill="#FEFECE" filter="url(#f1u9qwkia914as)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="830.5" y="49"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="965.5" y="54"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="963.5" y="56"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="963.5" y="60"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="865" y="81.9951">«BME280»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="845.5" y="98.292">T/P/RH% Sensor</text><!--MD5=[ebed1bb6023e5fff33c1b57e002d36b6]
entity 3.3V--><ellipse cx="945" cy="226" fill="#FEFECE" filter="url(#f1u9qwkia914as)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="928.5" y="255.9951">3.3V</text><!--MD5=[6adf806993c4fed3f755089b7e3c05bf]
entity USB--><ellipse cx="1074" cy="226" fill="#FEFECE" filter="url(#f1u9qwkia914as)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="1043.5" y="255.9951">USB (5V)</text><!--MD5=[aabdf608149766229b92787bae276b8f]
entity VSPI--><ellipse cx="589" cy="226" fill="#FEFECE" filter="url(#f1u9qwkia914as)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="573" y="255.9951">VSPI</text><!--MD5=[f7bfc8f1bb495b4b79b1ac728f6ccdbb]
entity HSPI--><ellipse cx="767" cy="226" fill="#FEFECE" filter="url(#f1u9qwkia914as)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="751" y="255.9951">HSPI</text><!--MD5=[f46b679756e6f7fb7c0f8c2b18b8acc8]
entity I2C--><ellipse cx="856" cy="226" fill="#FEFECE" filter="url(#f1u9qwkia914as)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="22" x="845" y="255.9951">I2C</text><!--MD5=[1240995e1a5c7946ae238581d45e25f6]
entity DAC--><ellipse cx="786" cy="80.5" fill="#FEFECE" filter="url(#f1u9qwkia914as)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="770.5" y="110.4951">DAC</text><!--MD5=[99166ef7b986dc620a0eb0b7893f0066]
entity GPIO--><ellipse cx="678" cy="226" fill="#FEFECE" filter="url(#f1u9qwkia914as)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="660.5" y="255.9951">GPIO</text><!--MD5=[295b473f839cb5c55ed8029cb202a315]
entity sipo_sr--><rect fill="#FEFECE" filter="url(#f1u9qwkia914as)" height="78.8906" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="647" y="369"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="739" y="374"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="737" y="376"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="737" y="380"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="675.5" y="401.9951">«595»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="662" y="418.292">SIPO Shift</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="662" y="434.5889">Register</text><!--MD5=[36f4ae31e0f9a4c7e8e331bcd5f23848]
entity piso_sr--><rect fill="#FEFECE" filter="url(#f1u9qwkia914as)" height="78.8906" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="812" y="369"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="904" y="374"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="902" y="376"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="902" y="380"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="840.5" y="401.9951">«165»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="827" y="418.292">PISO Shift</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="827" y="434.5889">Register</text><!--MD5=[63de781f255ed3850c551fae18a18b0b]
entity id_eeprom--><rect fill="#FEFECE" filter="url(#f1u9qwkia914as)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="462" y="377"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="592" y="382"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="590" y="384"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="590" y="388"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="110" x="477" y="409.9951">«25AA02E64T»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="506" y="426.292">ID Chip</text><!--MD5=[88723051146da09166554e42ec8ff111]
entity sensor--><rect fill="#FEFECE" filter="url(#f1u9qwkia914as)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="977.5" y="377"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="1150.5" y="382"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1148.5" y="384"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1148.5" y="388"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="84" x="1027" y="409.9951">«ADS1220»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="992.5" y="426.292">Sensor/Functional ICs</text><!--MD5=[5ca2ab491b335de634ab7f4d4ae26c42]
entity measurement--><ellipse cx="1074" cy="554" fill="#FEFECE" filter="url(#f1u9qwkia914as)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="1021.5" y="583.9951">Measurements</text><!--MD5=[466c8a635e8dce45e1bffa1bc5afcaed]
entity module_inputs--><ellipse cx="916" cy="554" fill="#FEFECE" filter="url(#f1u9qwkia914as)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="879" y="583.9951">I/O: Inputs</text><!--MD5=[ab96cd933246842576d0f7adfa6299a9]
entity module_outputs--><ellipse cx="703" cy="554" fill="#FEFECE" filter="url(#f1u9qwkia914as)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="659.5" y="583.9951">I/O: Outputs</text><!--MD5=[42242d2c3343448c1fef8cbb30929277]
entity mqtt_broker--><rect fill="#FEFECE" filter="url(#f1u9qwkia914as)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="179" y="203"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="293" y="208"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="291" y="210"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="291" y="214"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="194" y="235.9951">MQTT Broker</text><!--MD5=[e6d32054fcb97c68952b5c4281bf48c7]
entity mqtt--><ellipse cx="357" cy="226" fill="#FEFECE" filter="url(#f1u9qwkia914as)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="336.5" y="255.9951">MQTT</text><!--MD5=[0d5d088432864f0c134be152b48b80eb]
entity telegraf--><rect fill="#FEFECE" filter="url(#f1u9qwkia914as)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="216" y="49"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="346" y="54"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="344" y="56"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="344" y="60"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="231" y="81.9951">Telegraf</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="231" y="98.292">(data collector)</text><!--MD5=[7468467f3b6b392f1d176d828c753b77]
entity db--><path d="M49,396 C49,386 89,386 89,386 C89,386 129,386 129,396 L129,421.2969 C129,431.2969 89,431.2969 89,431.2969 C89,431.2969 49,431.2969 49,421.2969 L49,396 " fill="#FEFECE" filter="url(#f1u9qwkia914as)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M49,396 C49,406 89,406 89,406 C89,406 129,406 129,396 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="59" y="422.9951">InfluxDB</text><!--MD5=[b8fb08849632f9ff0fdc2d033176a093]
entity influx--><ellipse cx="89" cy="226" fill="#FEFECE" filter="url(#f1u9qwkia914as)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="41.5" y="255.9951">InfluxDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="41.5" y="272.292">Line Protocol</text><!--MD5=[97029dda41c7f1332efacff3a5502fd8]
entity grafana--><rect fill="#FEFECE" filter="url(#f1u9qwkia914as)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="85" y="57.5"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="161" y="62.5"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="159" y="64.5"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="159" y="68.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="100" y="90.4951">Grafana</text><!--MD5=[d6de0bea540cdcc3f07dc5dde60e897f]
entity HTTPS--><ellipse cx="41" cy="80.5" fill="#FEFECE" filter="url(#f1u9qwkia914as)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="18" y="110.4951">HTTPS</text><!--MD5=[e12fdb32cd01413c3e9353981b686a91]
entity pc--><rect fill="#FEFECE" filter="url(#f1u9qwkia914as)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="261.5" y="531"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="350.5" y="536"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="348.5" y="538"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="348.5" y="542"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="276.5" y="563.9951">Admin PC</text><!--MD5=[c79e61e36d0f3b9dc33be35e67b459af]
link telegraf to mqtt--><path d="M305.159,112.284 C319.455,143.369 340.848,189.881 351.103,212.179 " fill="none" id="telegraf-&gt;mqtt" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="353.231,216.806,353.1033,206.958,351.1412,212.2637,345.8356,210.3016,353.231,216.806" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[57bd967ff4c239d618c4badc9f6e4811]
link telegraf to influx--><path d="M247.666,112.284 C201.669,144.96 131.677,194.683 102.502,215.408 " fill="none" id="telegraf-&gt;influx" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="98.1806,218.478,107.8341,216.5262,102.2566,215.5821,103.2007,210.0046,98.1806,218.478" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c042fde213c17a30b80b8149678d0731]
link grafana to influx--><path d="M126.221,103.607 C116.943,133.867 100.58,187.232 93.0276,211.864 " fill="none" id="grafana-&gt;influx" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="91.4721,216.938,97.9347,209.506,92.9378,212.1577,90.2861,207.1608,91.4721,216.938" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[50c77089c589a91ec8a711cd0881c863]
link HTTPS to grafana--><path d="M50.3438,80.5 C61.8597,80.5 73.3756,80.5 84.8915,80.5 " fill="none" id="HTTPS-grafana" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b2081822afcb018b6b82422c54945994]
link ldo to 3.3V--><path d="M1046.33,112.284 C1016.27,145.72 970.167,197.004 952.366,216.806 " fill="none" id="ldo-3.3V" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[345fe6ea5a2c53430aa8b58948c78bfa]
link ldo to USB--><path d="M1074,112.284 C1074,143.108 1074,189.1 1074,211.612 " fill="none" id="ldo-&gt;USB" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1074,216.806,1078,207.806,1074,211.806,1070,207.806,1074,216.806" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[48045da62d98a3177d12ece3a1cce521]
link esp32 to 3.3V--><path d="M741.826,115.574 C806.878,140.582 885.792,171.735 900,181 C913.614,189.878 926.6,203.294 935.092,212.977 " fill="none" id="esp32-&gt;3.3V" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="938.444,216.875,935.6055,207.444,935.1826,213.0851,929.5416,212.6622,938.444,216.875" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[45380c566abade9089cd317e85bd2b66]
link esp32 to mqtt--><path d="M572.557,120.144 C502.616,154.166 406.526,200.908 370.966,218.206 " fill="none" id="esp32-&gt;mqtt" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="366.169,220.54,376.012,220.1997,370.6652,218.3526,372.5122,213.0058,366.169,220.54" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[526db56c82af37a2bea985ede5c673dc]
link esp32 to VSPI--><path d="M634.951,120.333 C620.375,153.535 600.528,198.742 592.542,216.932 " fill="none" id="esp32-VSPI" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3deab21d6a581d6968da7c7aea882ce1]
link esp32 to HSPI--><path d="M683.121,120.333 C709.728,153.535 745.957,198.742 760.534,216.932 " fill="none" id="esp32-HSPI" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3f78c60150529f64063af360f95ff990]
link esp32 to I2C--><path d="M720.691,120.062 C749.534,137.364 782.849,158.85 811,181 C825.254,192.216 839.944,207.387 848.511,216.668 " fill="none" id="esp32-I2C" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[280ed3b6420dc2f18c4b4c94ff6f3872]
link esp32 to DAC--><path d="M741.508,80.5 C753.326,80.5 765.144,80.5 776.963,80.5 " fill="none" id="esp32-DAC" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6e4f9c723936202f83a0db83889afbbd]
link esp32 to GPIO--><path d="M659.036,120.333 C665.052,153.535 673.243,198.742 676.538,216.932 " fill="none" id="esp32-GPIO" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[278e79d49732905aef13c02b944003ee]
link BME280 to I2C--><path d="M896.845,112.284 C885.628,143.238 868.868,189.49 860.748,211.897 " fill="none" id="BME280-&gt;I2C" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="858.969,216.806,865.7949,209.7062,860.6717,212.1049,858.273,206.9818,858.969,216.806" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[9b52548b4e44d9bcac1957eb4bdc0fff]
link BME280 to 3.3V--><path d="M915.937,112.284 C923.919,143.238 935.844,189.49 941.622,211.897 " fill="none" id="BME280-&gt;3.3V" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="942.887,216.806,944.5155,207.0927,941.6397,211.9641,936.7684,209.0883,942.887,216.806" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e1a0c3e484a8a2ace0881b3277223f98]
link mqtt_broker to mqtt--><path d="M313.207,226 C324.725,226 336.244,226 347.762,226 " fill="none" id="mqtt_broker-mqtt" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[a23daa79c3635e2bc44fe220f542bc88]
link influx to db--><path d="M89,235.225 C89,261.777 89,345.807 89,385.861 " fill="none" id="influx-db" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[77281371cbe17212660399f681755920]
link piso_sr to module_inputs--><path d="M880.989,448.333 C892.095,481.535 907.217,526.7425 913.301,544.932 " fill="none" id="piso_sr-module_inputs" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[122ed323326c1f4181d4d1449d225cd1]
link sipo_sr to module_outputs--><path d="M703,448.333 C703,481.535 703,526.7425 703,544.932 " fill="none" id="sipo_sr-module_outputs" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f2ed3e50683a43c0e0370932f1580cac]
reverse link HSPI to sipo_sr--><path d="M767.087,240.394 C766.826,258.484 764.999,291.509 756,318 C750.017,335.612 740.269,353.54 730.754,368.679 " fill="none" id="HSPI&lt;-sipo_sr" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="767.124,235.284,763.0598,244.2552,767.0883,240.2839,771.0596,244.3123,767.124,235.284" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0881381e9b0982e9a1525cf380be9d01]
reverse link HSPI to piso_sr--><path d="M774.126,239.735 C788.914,266.162 823.451,327.885 846.255,368.64 " fill="none" id="HSPI&lt;-piso_sr" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="771.602,235.225,772.5064,245.0322,774.0437,239.5883,779.4876,241.1256,771.602,235.225" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e919681ba140d8536dcc86cca8ecedbd]
reverse link GPIO to piso_sr--><path d="M680.708,240.267 C685.635,260.697 698.144,299.44 725,318 C750.397,335.552 766.539,311.894 794,326 C813.21,335.867 829.879,352.903 842.508,368.856 " fill="none" id="GPIO&lt;-piso_sr" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="679.563,235.256,677.666,244.9204,680.6756,240.1306,685.4654,243.1403,679.563,235.256" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="726" y="314.0669">latches etc.</text><!--MD5=[7f2690f677423a4b5ddb2026b8d9c4f7]
reverse link GPIO to sipo_sr--><path d="M667.567,239.46 C654.35,256.807 634.281,289.336 643,318 C648.498,336.076 658.998,353.82 669.696,368.68 " fill="none" id="GPIO&lt;-sipo_sr" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="670.758,235.389,662.0582,240.0056,667.6739,239.3245,668.355,244.9402,670.758,235.389" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[af0093a4aec23b0720f689f0477a17cc]
link sipo_sr to sipo_sr--><path d="M759.43,393.876 C778.595,393.799 794,398.674 794,408.5 C794,417.405 781.348,422.243 764.712,423.015 " fill="none" id="sipo_sr-&gt;sipo_sr" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="759.43,423.124,768.5104,426.9381,764.4289,423.0212,768.3458,418.9397,759.43,423.124" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[46e968cde3143f33ebf77cb2e9a5392e]
link piso_sr to piso_sr--><path d="M924.43,393.876 C943.595,393.799 959,398.674 959,408.5 C959,417.405 946.348,422.243 929.712,423.015 " fill="none" id="piso_sr-&gt;piso_sr" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="924.43,423.124,933.5104,426.9381,929.4289,423.0212,933.3458,418.9397,924.43,423.124" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[5188d219dc30035aa2845c90effa3b13]
reverse link 3.3V to sipo_sr--><path d="M936.796,239.28 C928.6,250.784 915.077,267.835 900,279 C858.584,309.668 837.279,298.023 794,326 C775.12,338.205 756.274,354.275 740.669,368.918 " fill="none" id="3.3V&lt;-sipo_sr" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="939.769,235.018,931.3381,240.1091,936.9074,239.1182,937.8983,244.6876,939.769,235.018" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[5e0857f83b2e11153a0e8014f057761c]
reverse link 3.3V to piso_sr--><path d="M943.107,240.426 C940.251,258.55 933.973,291.615 923,318 C915.717,335.513 905.274,353.568 895.441,368.834 " fill="none" id="3.3V&lt;-piso_sr" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="943.884,235.304,938.5795,243.6023,943.1341,240.2474,946.489,244.8021,943.884,235.304" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[796eeac39735c71ce801715c988e0d90]
link id_eeprom to module_outputs--><path d="M572.611,440.284 C609.354,472.047 664.73,519.9174 689.817,541.6038 " fill="none" id="id_eeprom-&gt;module_outputs" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="693.857,545.0965,689.6643,536.1847,690.0744,541.8266,684.4325,542.2368,693.857,545.0965" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="636" y="491.0669">CS# pin</text><!--MD5=[2355b1c068e2f392642548d30aa129ba]
link id_eeprom to VSPI--><path d="M545.839,376.82 C557.369,336.795 577.038,268.523 585.237,240.06 " fill="none" id="id_eeprom-&gt;VSPI" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="586.631,235.225,580.2955,242.7657,585.2466,240.0295,587.9828,244.9806,586.631,235.225" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c91d9c47721cc02b37e630482fb73ec0]
link sensor to VSPI--><path d="M1040.11,376.793 C1018.67,359.098 989.51,338.039 960,326 C892.952,298.647 870.675,311.313 799,301 C725.336,290.401 698.307,314.69 633,279 C616.51,269.988 603.538,252.128 596.071,239.877 " fill="none" id="sensor-&gt;VSPI" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="593.392,235.329,594.512,245.114,595.9291,239.6375,601.4056,241.0546,593.392,235.329" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ef628802d36093023f925f048da8f91e]
link sensor to module_outputs--><path d="M998.026,440.012 C985.341,445.052 972.308,450.197 960,455 C867.615,491.048 755.99,533.1032 717.14,547.6958 " fill="none" id="sensor-&gt;module_outputs" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="712.355,549.4922,722.1866,550.0742,717.0361,547.735,719.3752,542.5844,712.355,549.4922" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[faceb3de2b182e610c5e2915121571d1]
link sensor to module_inputs--><path d="M1040.11,440.284 C1005.3,471.891 952.942,519.4484 928.901,541.283 " fill="none" id="sensor-&gt;module_inputs" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="925.022,544.8061,934.3737,541.7165,928.7234,541.4446,928.9953,535.7943,925.022,544.8061" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="996" y="491.0669">(optional)</text><!--MD5=[2ced413ee437ea2e5b47f8dac25b1fec]
link sensor to measurement--><path d="M1074,440.284 C1074,473.72 1074,525.0043 1074,544.8061 " fill="none" id="sensor-measurement" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[896a4ec4435b124f966713b9496f075b]
link sensor to 3.3V--><path d="M1052.07,376.82 C1023.23,336.463 973.864,267.388 953.833,239.36 " fill="none" id="sensor-&gt;3.3V" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="950.878,235.225,952.8574,244.8729,953.7855,239.2927,959.3657,240.2208,950.878,235.225" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[5fee7e646cae432e30d290af45884791]
link sensor to USB--><path d="M1074,376.82 C1074,336.961 1074,269.089 1074,240.417 " fill="none" id="sensor-&gt;USB" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1074,235.225,1070,244.225,1074,240.225,1078,244.225,1074,235.225" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="1075" y="314.0669">(optional)</text><!--MD5=[05f837244fd78870e11057dac7b42b0d]
reverse link mqtt to pc--><path d="M353.4,240.462 C348.474,259.408 339.707,295.082 335,326 C323.631,400.675 318.65,490.282 316.854,530.9711 " fill="none" id="mqtt&lt;-pc" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="354.797,235.143,348.6421,242.8317,353.5269,239.979,356.3797,244.8639,354.797,235.143" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="336" y="413.0669">&lt;for config etc.&gt;</text><!--MD5=[09107f64c00485e76c6c9733d83d1315]
@startuml
package snode as "Sensor Node" {
    component esp32 as "Microcontroller\nWiFi Module" <<ESP-WROOM-32E>> 
    component ldo as "3.3V LDO\n>500mA"
    component BME280 as "T/P/RH% Sensor" <<BME280>> 
    interface "3.3V"
    interface USB as "USB (5V)"
    interface VSPI
    interface HSPI 
    interface I2C 
    interface DAC 
    interface GPIO
}

package module as "Addon module" {
    component sipo_sr as "SIPO Shift\nRegister" <<595>>
    component piso_sr as "PISO Shift\nRegister" <<165>>
    component id_eeprom as "ID Chip" <<25AA02E64T>>
    component sensor as "Sensor/Functional ICs" <<ADS1220>> 

    interface measurement as "Measurements"
    interface module_inputs as "I/O: Inputs"
    interface module_outputs as "I/O: Outputs"
}


package server as "Server" {
    component mqtt_broker as "MQTT Broker"
    interface mqtt as "MQTT"

    component telegraf as "Telegraf\n(data collector)"
    database db as "InfluxDB"
    interface influx as "InfluxDB\nLine Protocol"

    component grafana as "Grafana"
    interface HTTPS 
}

component pc as "Admin PC"


'server -[hidden]- snode
'snode -[hidden]- module 

telegraf ..> mqtt 
telegraf ..> influx 
grafana ..> influx 
grafana -left- HTTPS 
ldo - - 3.3V
ldo ..> USB  
esp32 ..> 3.3V
esp32 ..> mqtt
esp32 -d- VSPI
esp32 - - HSPI
esp32 - - I2C 
esp32 -r- DAC
esp32 - - GPIO
BME280 ..> I2C
BME280 ..> 3.3V
mqtt_broker - mqtt 
db -up- influx

piso_sr -d- module_inputs
sipo_sr -d- module_outputs
HSPI <.. sipo_sr
HSPI <.. piso_sr
GPIO <.. piso_sr : latches etc. 
GPIO <.. sipo_sr
sipo_sr - -> sipo_sr
piso_sr - -> piso_sr
sipo_sr .u.> 3.3V
piso_sr -u-> 3.3V



id_eeprom ..> module_outputs : CS# pin 
id_eeprom ..> VSPI

sensor ..> VSPI 
sensor ..> module_outputs
sensor ..> module_inputs : (optional)
sensor -d- measurement
sensor ..> 3.3V
sensor ..> USB : (optional)

pc .up..> mqtt : <for config etc.>
@enduml

@startuml
package snode as "Sensor Node" {
    component esp32 as "Microcontroller\nWiFi Module" <<ESP-WROOM-32E>> 
    component ldo as "3.3V LDO\n>500mA"
    component BME280 as "T/P/RH% Sensor" <<BME280>> 
    interface "3.3V"
    interface USB as "USB (5V)"
    interface VSPI
    interface HSPI 
    interface I2C 
    interface DAC 
    interface GPIO
}

package module as "Addon module" {
    component sipo_sr as "SIPO Shift\nRegister" <<595>>
    component piso_sr as "PISO Shift\nRegister" <<165>>
    component id_eeprom as "ID Chip" <<25AA02E64T>>
    component sensor as "Sensor/Functional ICs" <<ADS1220>> 

    interface measurement as "Measurements"
    interface module_inputs as "I/O: Inputs"
    interface module_outputs as "I/O: Outputs"
}


package server as "Server" {
    component mqtt_broker as "MQTT Broker"
    interface mqtt as "MQTT"

    component telegraf as "Telegraf\n(data collector)"
    database db as "InfluxDB"
    interface influx as "InfluxDB\nLine Protocol"

    component grafana as "Grafana"
    interface HTTPS 
}

component pc as "Admin PC"



telegraf ..> mqtt 
telegraf ..> influx 
grafana ..> influx 
grafana -left- HTTPS 
ldo - - 3.3V
ldo ..> USB  
esp32 ..> 3.3V
esp32 ..> mqtt
esp32 -d- VSPI
esp32 - - HSPI
esp32 - - I2C 
esp32 -r- DAC
esp32 - - GPIO
BME280 ..> I2C
BME280 ..> 3.3V
mqtt_broker - mqtt 
db -up- influx

piso_sr -d- module_inputs
sipo_sr -d- module_outputs
HSPI <.. sipo_sr
HSPI <.. piso_sr
GPIO <.. piso_sr : latches etc. 
GPIO <.. sipo_sr
sipo_sr - -> sipo_sr
piso_sr - -> piso_sr
sipo_sr .u.> 3.3V
piso_sr -u-> 3.3V



id_eeprom ..> module_outputs : CS# pin 
id_eeprom ..> VSPI

sensor ..> VSPI 
sensor ..> module_outputs
sensor ..> module_inputs : (optional)
sensor -d- measurement
sensor ..> 3.3V
sensor ..> USB : (optional)

pc .up..> mqtt : <for config etc.>
@enduml

PlantUML version 1.2020.16beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>