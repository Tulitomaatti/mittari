<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="746px" preserveAspectRatio="none" style="width:1209px;height:746px;" version="1.1" viewBox="0 0 1209 746" width="1209px" zoomAndPan="magnify"><defs><filter height="300%" id="f1c0nv43oz9zew" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[6b92be63a5d978ba79b909e353a1241e]
cluster snode--><polygon fill="#FFFFFF" filter="url(#f1c0nv43oz9zew)" points="539,40.95,645,40.95,652,63.2469,1137,63.2469,1137,305.95,539,305.95,539,40.95" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="539" x2="652" y1="63.2469" y2="63.2469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="543" y="55.9451">Sensor Node</text><!--MD5=[0e004d10fa3aa19825bb85d3d0c3cd6e]
cluster module--><polygon fill="#FFFFFF" filter="url(#f1c0nv43oz9zew)" points="446,352.95,567,352.95,574,375.2469,1187,375.2469,1187,617.95,446,617.95,446,352.95" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="446" x2="574" y1="375.2469" y2="375.2469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="115" x="450" y="367.9451">Addon module</text><!--MD5=[4ef80439e1ef409f8f3a0ec422262701]
cluster server--><polygon fill="#FFFFFF" filter="url(#f1c0nv43oz9zew)" points="16,48.95,73,48.95,80,71.2469,382,71.2469,382,474.45,16,474.45,16,48.95" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="16" x2="80" y1="71.2469" y2="71.2469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="20" y="63.9451">Server</text><!--MD5=[3d15fd212a4bff22fb41b884aeefe184]
entity esp32--><rect fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" height="78.8906" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="555.5" y="75.95"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="714.5" y="80.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="712.5" y="82.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="712.5" y="86.95"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="139" x="570.5" y="108.9451">«ESP-WROOM-32E»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="585" y="125.242">Microcontroller</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="585" y="141.5389">WiFi Module</text><!--MD5=[d16445b3d1c9b742b25ba91ee8b4b55a]
entity ldo--><rect fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="1013.5" y="83.95"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="1100.5" y="88.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1098.5" y="90.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1098.5" y="94.95"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="1028.5" y="116.9451">3.3V LDO</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="1028.5" y="133.242">&gt;500mA</text><!--MD5=[3aadc04e3f3d8483012405e9c2c7d4a1]
entity BME280--><rect fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="823.5" y="83.95"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="958.5" y="88.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="956.5" y="90.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="956.5" y="94.95"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="858" y="116.9451">«BME280»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="838.5" y="133.242">T/P/RH% Sensor</text><!--MD5=[6adf806993c4fed3f755089b7e3c05bf]
entity USB--><ellipse cx="1067" cy="260.95" fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="1036.5" y="290.9451">USB (5V)</text><!--MD5=[aabdf608149766229b92787bae276b8f]
entity VSPI--><ellipse cx="889" cy="260.95" fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="873" y="290.9451">VSPI</text><!--MD5=[f7bfc8f1bb495b4b79b1ac728f6ccdbb]
entity HSPI--><ellipse cx="612" cy="260.95" fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="596" y="290.9451">HSPI</text><!--MD5=[f46b679756e6f7fb7c0f8c2b18b8acc8]
entity I2C--><ellipse cx="787" cy="260.95" fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="22" x="776" y="290.9451">I2C</text><!--MD5=[1240995e1a5c7946ae238581d45e25f6]
entity DAC--><ellipse cx="779" cy="115.45" fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="763.5" y="145.4451">DAC</text><!--MD5=[99166ef7b986dc620a0eb0b7893f0066]
entity GPIO--><ellipse cx="683" cy="260.95" fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="665.5" y="290.9451">GPIO</text><!--MD5=[295b473f839cb5c55ed8029cb202a315]
entity sipo_sr--><rect fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" height="78.8906" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="627" y="387.95"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="719" y="392.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="717" y="394.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="717" y="398.95"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="655.5" y="420.9451">«595»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="642" y="437.242">SIPO Shift</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="642" y="453.5389">Register</text><!--MD5=[36f4ae31e0f9a4c7e8e331bcd5f23848]
entity piso_sr--><rect fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" height="78.8906" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="462" y="387.95"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="554" y="392.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="552" y="394.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="552" y="398.95"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="490.5" y="420.9451">«165»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="477" y="437.242">PISO Shift</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="477" y="453.5389">Register</text><!--MD5=[63de781f255ed3850c551fae18a18b0b]
entity id_eeprom--><rect fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="1021" y="395.95"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="1151" y="400.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1149" y="402.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1149" y="406.95"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="110" x="1036" y="428.9451">«25AA02E64T»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="1065" y="445.242">ID Chip</text><!--MD5=[88723051146da09166554e42ec8ff111]
entity sensor--><rect fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="792.5" y="395.95"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="965.5" y="400.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="963.5" y="402.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="963.5" y="406.95"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="84" x="842" y="428.9451">«ADS1220»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="807.5" y="445.242">Sensor/Functional ICs</text><!--MD5=[5ca2ab491b335de634ab7f4d4ae26c42]
entity measurement--><ellipse cx="899" cy="572.95" fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="846.5" y="602.9451">Measurements</text><!--MD5=[466c8a635e8dce45e1bffa1bc5afcaed]
entity module_inputs--><ellipse cx="619" cy="572.95" fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="582" y="602.9451">I/O: Inputs</text><!--MD5=[ab96cd933246842576d0f7adfa6299a9]
entity module_outputs--><ellipse cx="753" cy="572.95" fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="709.5" y="602.9451">I/O: Outputs</text><!--MD5=[42242d2c3343448c1fef8cbb30929277]
entity mqtt_broker--><rect fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="179" y="229.45"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="293" y="234.45"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="291" y="236.45"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="291" y="240.45"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87" x="197.5" y="262.4451">«Mosquitto»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="194" y="278.742">MQTT Broker</text><!--MD5=[e6d32054fcb97c68952b5c4281bf48c7]
entity mqtt--><ellipse cx="357" cy="260.95" fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="336.5" y="290.9451">MQTT</text><!--MD5=[0d5d088432864f0c134be152b48b80eb]
entity telegraf--><rect fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="216" y="83.95"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="346" y="88.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="344" y="90.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="344" y="94.95"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="231" y="116.9451">Telegraf</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="231" y="133.242">(data collector)</text><!--MD5=[7468467f3b6b392f1d176d828c753b77]
entity db--><path d="M63,406.45 C63,396.45 112,396.45 112,396.45 C112,396.45 161,396.45 161,406.45 L161,448.0438 C161,458.0438 112,458.0438 112,458.0438 C112,458.0438 63,458.0438 63,448.0438 L63,406.45 " fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M63,406.45 C63,416.45 112,416.45 112,416.45 C112,416.45 161,416.45 161,406.45 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="78" x="73" y="433.4451">«InfluxDB»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="78" y="449.742">Database</text><!--MD5=[b8fb08849632f9ff0fdc2d033176a093]
entity influx--><ellipse cx="112" cy="260.95" fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="87.5" y="290.9451">DB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="87.5" y="307.242">Access</text><!--MD5=[97029dda41c7f1332efacff3a5502fd8]
entity grafana--><rect fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="85" y="92.45"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="161" y="97.45"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="159" y="99.45"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="159" y="103.45"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="100" y="125.4451">Grafana</text><!--MD5=[d6de0bea540cdcc3f07dc5dde60e897f]
entity HTTPS--><ellipse cx="41" cy="115.45" fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="18" y="145.4451">HTTPS</text><!--MD5=[8cd78cd993ed92dab9a3e8cee56e2dcd]
entity ext_sensors--><rect fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="801" y="664.95"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="977" y="669.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="975" y="671.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="975" y="675.95"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="156" x="816" y="697.9451">External / Detachable</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="816" y="714.242">sensors</text><!--MD5=[e12fdb32cd01413c3e9353981b686a91]
entity pc--><rect fill="#FEFECE" filter="url(#f1c0nv43oz9zew)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="261.5" y="549.95"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="350.5" y="554.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="348.5" y="556.95"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="348.5" y="560.95"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="276.5" y="582.9451">Admin PC</text><!--MD5=[c79e61e36d0f3b9dc33be35e67b459af]
link telegraf to mqtt--><path d="M305.159,147.234 C319.455,178.319 340.848,224.831 351.103,247.129 " fill="none" id="telegraf-&gt;mqtt" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="353.231,251.756,353.1033,241.908,351.1412,247.2137,345.8356,245.2516,353.231,251.756" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[57bd967ff4c239d618c4badc9f6e4811]
link telegraf to influx--><path d="M249.37,147.01 C223.536,166.292 189.875,191.998 161,215.95 C148.372,226.425 134.505,238.982 124.756,247.995 " fill="none" id="telegraf-&gt;influx" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="120.845,251.625,130.1625,248.4336,124.5095,248.2233,124.7198,242.5704,120.845,251.625" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c042fde213c17a30b80b8149678d0731]
link grafana to influx--><path d="M129.765,138.557 C125.337,168.817 117.527,222.182 113.922,246.814 " fill="none" id="grafana-&gt;influx" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="113.18,251.888,118.4416,243.5624,113.9043,246.9407,110.5259,242.4035,113.18,251.888" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[50c77089c589a91ec8a711cd0881c863]
link HTTPS to grafana--><path d="M50.3438,115.45 C61.8597,115.45 73.3756,115.45 84.8915,115.45 " fill="none" id="HTTPS-grafana" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[345fe6ea5a2c53430aa8b58948c78bfa]
link ldo to USB--><path d="M1067,147.234 C1067,178.058 1067,224.05 1067,246.562 " fill="none" id="ldo-&gt;USB" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1067,251.756,1071,242.756,1067,246.756,1063,242.756,1067,251.756" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[45380c566abade9089cd317e85bd2b66]
link esp32 to mqtt--><path d="M567.442,155.094 C499.478,188.958 406.223,235.424 371.123,252.913 " fill="none" id="esp32-&gt;mqtt" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="366.377,255.278,376.2163,254.8434,370.852,253.0476,372.6477,247.6834,366.377,255.278" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[526db56c82af37a2bea985ede5c673dc]
link esp32 to VSPI--><path d="M710.708,155.094 C770.274,190.126 852.769,238.642 879.931,254.617 " fill="none" id="esp32-VSPI" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3deab21d6a581d6968da7c7aea882ce1]
link esp32 to HSPI--><path d="M636.07,155.283 C628.434,188.485 618.038,233.692 613.855,251.882 " fill="none" id="esp32-HSPI" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3f78c60150529f64063af360f95ff990]
link esp32 to I2C--><path d="M683.427,155.283 C716.282,188.485 761.017,233.692 779.016,251.882 " fill="none" id="esp32-I2C" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[280ed3b6420dc2f18c4b4c94ff6f3872]
link esp32 to DAC--><path d="M734.508,115.45 C746.326,115.45 758.144,115.45 769.963,115.45 " fill="none" id="esp32-DAC" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6e4f9c723936202f83a0db83889afbbd]
link esp32 to GPIO--><path d="M655.283,155.283 C664.075,188.485 676.047,233.692 680.864,251.882 " fill="none" id="esp32-GPIO" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[278e79d49732905aef13c02b944003ee]
link BME280 to I2C--><path d="M876.544,147.234 C851.642,178.58 814.278,225.613 796.743,247.686 " fill="none" id="BME280-&gt;I2C" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="793.509,251.756,802.2387,247.1962,796.6187,247.8407,795.9742,242.2207,793.509,251.756" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e1a0c3e484a8a2ace0881b3277223f98]
link mqtt_broker to mqtt--><path d="M313.207,260.95 C324.725,260.95 336.244,260.95 347.762,260.95 " fill="none" id="mqtt_broker-mqtt" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[a23daa79c3635e2bc44fe220f542bc88]
link influx to db--><path d="M112,270.334 C112,293.249 112,357.788 112,396.335 " fill="none" id="influx-db" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[77281371cbe17212660399f681755920]
link piso_sr to module_inputs--><path d="M543.645,466.991 C553.611,481.772 565.207,498.735 576,513.95 C588.765,531.944 604.302,552.61 612.767,563.769 " fill="none" id="piso_sr-module_inputs" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[122ed323326c1f4181d4d1449d225cd1]
link sipo_sr to module_outputs--><path d="M701.943,467.283 C718.139,500.485 740.191,545.692 749.064,563.882 " fill="none" id="sipo_sr-module_outputs" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f2ed3e50683a43c0e0370932f1580cac]
reverse link HSPI to sipo_sr--><path d="M617.646,275.032 C628.045,299.124 650.593,351.365 666.276,387.702 " fill="none" id="HSPI&lt;-sipo_sr" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="615.619,270.334,615.5124,280.1823,617.6001,274.9248,622.8577,277.0125,615.619,270.334" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0881381e9b0982e9a1525cf380be9d01]
reverse link HSPI to piso_sr--><path d="M598.807,273.132 C583.731,286.586 559.302,310.552 545,335.95 C535.989,351.951 529.695,371.273 525.465,387.948 " fill="none" id="HSPI&lt;-piso_sr" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="602.795,269.624,593.3957,272.5655,599.041,272.9266,598.6799,278.5719,602.795,269.624" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e919681ba140d8536dcc86cca8ecedbd]
reverse link GPIO to piso_sr--><path d="M678.431,274.897 C673.989,286.151 666.392,302.415 656,313.95 C639.251,332.541 628.818,329.672 609,344.95 C591.867,358.157 573.94,373.778 558.573,387.793 " fill="none" id="GPIO&lt;-piso_sr" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="680.248,270.114,673.3126,277.1068,678.4724,274.7881,680.7911,279.9479,680.248,270.114" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7f2690f677423a4b5ddb2026b8d9c4f7]
reverse link GPIO to sipo_sr--><path d="M683,275.336 C683,299.561 683,351.517 683,387.702 " fill="none" id="GPIO&lt;-sipo_sr" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="683,270.334,679,279.334,683,275.334,687,279.334,683,270.334" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[af0093a4aec23b0720f689f0477a17cc]
link sipo_sr to sipo_sr--><path d="M739.43,412.826 C758.595,412.749 774,417.624 774,427.45 C774,436.355 761.348,441.193 744.712,441.965 " fill="none" id="sipo_sr-&gt;sipo_sr" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="739.43,442.074,748.5104,445.8881,744.4289,441.9712,748.3458,437.8897,739.43,442.074" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[46e968cde3143f33ebf77cb2e9a5392e]
link piso_sr to piso_sr--><path d="M574.43,412.826 C593.595,412.749 609,417.624 609,427.45 C609,436.355 596.348,441.193 579.712,441.965 " fill="none" id="piso_sr-&gt;piso_sr" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="574.43,442.074,583.5104,445.8881,579.4289,441.9712,583.3458,437.8897,574.43,442.074" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[796eeac39735c71ce801715c988e0d90]
link id_eeprom to module_outputs--><path d="M1047.25,459.188 C1033.26,467.335 1017.79,475.726 1003,482.45 C925.66,517.621 901.619,514.297 822,543.95 C802.794,551.103 780.915,560.134 767.038,565.975 " fill="none" id="id_eeprom-&gt;module_outputs" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="762.308,567.973,772.1551,568.1579,766.9144,566.0284,769.0438,560.7877,762.308,567.973" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="966" y="510.0169">CS# pin</text><!--MD5=[2355b1c068e2f392642548d30aa129ba]
link id_eeprom to VSPI--><path d="M1062.62,395.894 C1045.18,380.266 1023.29,361.172 1003,344.95 C967.654,316.69 923.914,285.966 902.332,271.071 " fill="none" id="id_eeprom-&gt;VSPI" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="898.073,268.139,903.2175,276.5375,902.1912,270.9745,907.7542,269.9483,898.073,268.139" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c91d9c47721cc02b37e630482fb73ec0]
link sensor to VSPI--><path d="M889,395.672 C889,359.616 889,301.498 889,275.398 " fill="none" id="sensor-&gt;VSPI" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="889,270.334,885,279.334,889,275.334,893,279.334,889,270.334" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ef628802d36093023f925f048da8f91e]
link sensor to module_outputs--><path d="M812.889,459.093 C796.289,468.956 780.324,481.456 769,496.95 C755.589,515.299 752.949,542.525 752.679,558.631 " fill="none" id="sensor-&gt;module_outputs" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="752.666,563.638,756.6891,554.6483,752.6789,558.638,748.6892,554.6277,752.666,563.638" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[faceb3de2b182e610c5e2915121571d1]
link sensor to module_inputs--><path d="M831.713,459.039 C813.652,467.669 793.356,476.357 774,482.45 C737.863,493.826 723.394,479.058 690,496.95 C661.974,511.966 638.708,542.165 627.054,559.309 " fill="none" id="sensor-&gt;module_inputs" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="624.081,563.774,632.399,558.5004,626.8525,559.6124,625.7405,554.066,624.081,563.774" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="691" y="510.0169">(optional)</text><!--MD5=[2ced413ee437ea2e5b47f8dac25b1fec]
link sensor to measurement--><path d="M891.145,459.234 C893.475,492.67 897.049,543.954 898.429,563.756 " fill="none" id="sensor-measurement" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f174539a22cafb164b5c387fe4421218]
reverse link I2C to sensor--><path d="M794.936,274.749 C810.918,300.523 847.372,359.315 869.916,395.672 " fill="none" id="I2C&lt;-sensor" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="792.198,270.334,793.5397,280.091,794.8322,274.5838,800.3394,275.8764,792.198,270.334" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f82142031dae2a511be2545baa1cc5a2]
link measurement to ext_sensors--><path d="M899,582.301 C899,599.029 899,637.386 899,664.8002 " fill="none" id="measurement-ext_sensors" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[05f837244fd78870e11057dac7b42b0d]
reverse link mqtt to pc--><path d="M352.745,275.102 C347.673,291.336 339.338,319.875 335,344.95 C322.124,419.38 317.885,509.107 316.562,549.874 " fill="none" id="mqtt&lt;-pc" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="354.33,270.091,347.801,277.4648,352.8215,274.858,355.4283,279.8784,354.33,270.091" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="336" y="432.0169">&lt;for config etc.&gt;</text><!--MD5=[7f97603f6b8ff91e215f1d0300e89684]
reverse link piso_sr to sensor--><!--MD5=[01fff828b69fb69cfbf0d31e5e5d5117]
reverse link DAC to ldo--><!--MD5=[5f0d873286f21e5e06d3efc68b1bcba6]
reverse link BME280 to ldo--><!--MD5=[cf0b0090bf1bdfb12bbaa71094af15d9]
reverse link I2C to GPIO--><!--MD5=[2ce9676016eda0eed2f514439b9e2763]
@startuml
package snode as "Sensor Node" {
    component esp32 as "Microcontroller\nWiFi Module" <<ESP-WROOM-32E>> 
    component ldo as "3.3V LDO\n>500mA"
    component BME280 as "T/P/RH% Sensor" <<BME280>> 
    interface USB as "USB (5V)"
    interface VSPI
    interface HSPI 
    interface I2C 
    interface DAC 
    interface GPIO 
}

package module as "Addon module" {
    component sipo_sr as "SIPO Shift\nRegister" <<595>>
    component piso_sr as "PISO Shift\nRegister" <<165>>
    component id_eeprom as "ID Chip" <<25AA02E64T>>
    component sensor as "Sensor/Functional ICs" <<ADS1220>> 

    interface measurement as "Measurements"
    interface module_inputs as "I/O: Inputs"
    interface module_outputs as "I/O: Outputs"
}

component ext_sensors as "External / Detachable\n sensors"


package server as "Server" {
    component mqtt_broker as "MQTT Broker" <<Mosquitto>> 
    interface mqtt as "MQTT" 

    component telegraf as "Telegraf\n(data collector)"
    database db as "Database" <<InfluxDB>>
    interface influx as "DB\nAccess"

    component grafana as "Grafana"
    interface HTTPS 
}

component pc as "Admin PC"


telegraf ..> mqtt 
telegraf ..> influx 
grafana ..> influx 
grafana -left- HTTPS 
ldo .d.> USB  
esp32 ..> mqtt
esp32 -d- VSPI
esp32 - - HSPI
esp32 - - I2C 
esp32 -r- DAC
esp32 - - GPIO
BME280 .r.> I2C
mqtt_broker - mqtt 
db -up- influx

piso_sr -d- module_inputs
sipo_sr -d- module_outputs
HSPI <.. sipo_sr
HSPI <.. piso_sr
GPIO <.. piso_sr  
GPIO <.. sipo_sr
sipo_sr - -> sipo_sr
piso_sr - -> piso_sr


id_eeprom ..> module_outputs : CS# pin 
id_eeprom ..> VSPI

sensor ..> VSPI 
sensor ..> module_outputs
sensor ..> module_inputs : (optional)
sensor -d- measurement
sensor .u.> I2C
ext_sensors -u- measurement

pc .up..> mqtt : <for config etc.> 

'Tuning 
piso_sr <-[hidden] sensor
DAC <-[hidden] ldo
BME280 <-[hidden] ldo
I2C <-[hidden] GPIO

'GPIO <.right. HSPI
'GPIO <.left. VSPI

' Doesn't seem to play nicely layout-wise: 
'snode "1" - -o "0..*" module
@enduml

@startuml
package snode as "Sensor Node" {
    component esp32 as "Microcontroller\nWiFi Module" <<ESP-WROOM-32E>> 
    component ldo as "3.3V LDO\n>500mA"
    component BME280 as "T/P/RH% Sensor" <<BME280>> 
    interface USB as "USB (5V)"
    interface VSPI
    interface HSPI 
    interface I2C 
    interface DAC 
    interface GPIO 
}

package module as "Addon module" {
    component sipo_sr as "SIPO Shift\nRegister" <<595>>
    component piso_sr as "PISO Shift\nRegister" <<165>>
    component id_eeprom as "ID Chip" <<25AA02E64T>>
    component sensor as "Sensor/Functional ICs" <<ADS1220>> 

    interface measurement as "Measurements"
    interface module_inputs as "I/O: Inputs"
    interface module_outputs as "I/O: Outputs"
}

component ext_sensors as "External / Detachable\n sensors"


package server as "Server" {
    component mqtt_broker as "MQTT Broker" <<Mosquitto>> 
    interface mqtt as "MQTT" 

    component telegraf as "Telegraf\n(data collector)"
    database db as "Database" <<InfluxDB>>
    interface influx as "DB\nAccess"

    component grafana as "Grafana"
    interface HTTPS 
}

component pc as "Admin PC"


telegraf ..> mqtt 
telegraf ..> influx 
grafana ..> influx 
grafana -left- HTTPS 
ldo .d.> USB  
esp32 ..> mqtt
esp32 -d- VSPI
esp32 - - HSPI
esp32 - - I2C 
esp32 -r- DAC
esp32 - - GPIO
BME280 .r.> I2C
mqtt_broker - mqtt 
db -up- influx

piso_sr -d- module_inputs
sipo_sr -d- module_outputs
HSPI <.. sipo_sr
HSPI <.. piso_sr
GPIO <.. piso_sr  
GPIO <.. sipo_sr
sipo_sr - -> sipo_sr
piso_sr - -> piso_sr


id_eeprom ..> module_outputs : CS# pin 
id_eeprom ..> VSPI

sensor ..> VSPI 
sensor ..> module_outputs
sensor ..> module_inputs : (optional)
sensor -d- measurement
sensor .u.> I2C
ext_sensors -u- measurement

pc .up..> mqtt : <for config etc.> 

piso_sr <-[hidden] sensor
DAC <-[hidden] ldo
BME280 <-[hidden] ldo
I2C <-[hidden] GPIO


@enduml

PlantUML version 1.2020.16beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>