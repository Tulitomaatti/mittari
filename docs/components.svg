<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="635px" preserveAspectRatio="none" style="width:1209px;height:635px;" version="1.1" viewBox="0 0 1209 635" width="1209px" zoomAndPan="magnify"><defs><filter height="300%" id="f1gqe3qsce2ymo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[6b92be63a5d978ba79b909e353a1241e]
cluster snode--><polygon fill="#FFFFFF" filter="url(#f1gqe3qsce2ymo)" points="483,46.964,589,46.964,596,69.2609,1081,69.2609,1081,311.964,483,311.964,483,46.964" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="483" x2="596" y1="69.2609" y2="69.2609"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="487" y="61.9591">Sensor Node</text><!--MD5=[0e004d10fa3aa19825bb85d3d0c3cd6e]
cluster module--><polygon fill="#FFFFFF" filter="url(#f1gqe3qsce2ymo)" points="446,358.964,567,358.964,574,381.2609,1187,381.2609,1187,623.964,446,623.964,446,358.964" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="446" x2="574" y1="381.2609" y2="381.2609"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="115" x="450" y="373.9591">Addon module</text><!--MD5=[4ef80439e1ef409f8f3a0ec422262701]
cluster server--><polygon fill="#FFFFFF" filter="url(#f1gqe3qsce2ymo)" points="16,54.964,73,54.964,80,77.2609,382,77.2609,382,480.464,16,480.464,16,54.964" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="16" x2="80" y1="77.2609" y2="77.2609"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="20" y="69.9591">Server</text><!--MD5=[3d15fd212a4bff22fb41b884aeefe184]
entity esp32--><rect fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" height="78.8906" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="689.5" y="81.964"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="848.5" y="86.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="846.5" y="88.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="846.5" y="92.964"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="139" x="704.5" y="114.9591">«ESP-WROOM-32E»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="719" y="131.256">Microcontroller</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="719" y="147.5529">WiFi Module</text><!--MD5=[d16445b3d1c9b742b25ba91ee8b4b55a]
entity ldo--><rect fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="957.5" y="89.964"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="1044.5" y="94.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1042.5" y="96.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1042.5" y="100.964"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="972.5" y="122.9591">3.3V LDO</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="972.5" y="139.256">&gt;500mA</text><!--MD5=[3aadc04e3f3d8483012405e9c2c7d4a1]
entity BME280--><rect fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="499.5" y="89.964"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="634.5" y="94.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="632.5" y="96.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="632.5" y="100.964"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="534" y="122.9591">«BME280»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="514.5" y="139.256">T/P/RH% Sensor</text><!--MD5=[6adf806993c4fed3f755089b7e3c05bf]
entity USB--><ellipse cx="1011" cy="266.964" fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="980.5" y="296.9591">USB (5V)</text><!--MD5=[aabdf608149766229b92787bae276b8f]
entity VSPI--><ellipse cx="770" cy="266.964" fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="754" y="296.9591">VSPI</text><!--MD5=[f7bfc8f1bb495b4b79b1ac728f6ccdbb]
entity HSPI--><ellipse cx="903" cy="266.964" fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="887" y="296.9591">HSPI</text><!--MD5=[f46b679756e6f7fb7c0f8c2b18b8acc8]
entity I2C--><ellipse cx="682" cy="266.964" fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="22" x="671" y="296.9591">I2C</text><!--MD5=[1240995e1a5c7946ae238581d45e25f6]
entity DAC--><ellipse cx="913" cy="121.464" fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="897.5" y="151.4591">DAC</text><!--MD5=[99166ef7b986dc620a0eb0b7893f0066]
entity GPIO--><ellipse cx="824" cy="266.964" fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="806.5" y="296.9591">GPIO</text><!--MD5=[295b473f839cb5c55ed8029cb202a315]
entity sipo_sr--><rect fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" height="78.8906" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="876" y="393.964"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="968" y="398.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="966" y="400.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="966" y="404.964"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="904.5" y="426.9591">«595»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="891" y="443.256">SIPO Shift</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="891" y="459.5529">Register</text><!--MD5=[36f4ae31e0f9a4c7e8e331bcd5f23848]
entity piso_sr--><rect fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" height="78.8906" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="1041" y="393.964"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="1133" y="398.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1131" y="400.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="1131" y="404.964"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="1069.5" y="426.9591">«165»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="1056" y="443.256">PISO Shift</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="1056" y="459.5529">Register</text><!--MD5=[63de781f255ed3850c551fae18a18b0b]
entity id_eeprom--><rect fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="691" y="401.964"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="821" y="406.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="819" y="408.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="819" y="412.964"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="110" x="706" y="434.9591">«25AA02E64T»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="735" y="451.256">ID Chip</text><!--MD5=[88723051146da09166554e42ec8ff111]
entity sensor--><rect fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="462.5" y="401.964"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="635.5" y="406.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="633.5" y="408.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="633.5" y="412.964"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="84" x="512" y="434.9591">«ADS1220»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="477.5" y="451.256">Sensor/Functional ICs</text><!--MD5=[5ca2ab491b335de634ab7f4d4ae26c42]
entity measurement--><ellipse cx="559" cy="578.964" fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="506.5" y="608.9591">Measurements</text><!--MD5=[466c8a635e8dce45e1bffa1bc5afcaed]
entity module_inputs--><ellipse cx="957" cy="578.964" fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="920" y="608.9591">I/O: Inputs</text><!--MD5=[ab96cd933246842576d0f7adfa6299a9]
entity module_outputs--><ellipse cx="766" cy="578.964" fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="722.5" y="608.9591">I/O: Outputs</text><!--MD5=[42242d2c3343448c1fef8cbb30929277]
entity mqtt_broker--><rect fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="179" y="243.964"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="293" y="248.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="291" y="250.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="291" y="254.964"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="194" y="276.9591">MQTT Broker</text><!--MD5=[e6d32054fcb97c68952b5c4281bf48c7]
entity mqtt--><ellipse cx="357" cy="266.964" fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="336.5" y="296.9591">MQTT</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87" x="313.5" y="246.6622">«Mosquitto»</text><!--MD5=[0d5d088432864f0c134be152b48b80eb]
entity telegraf--><rect fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" height="62.5938" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="216" y="89.964"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="346" y="94.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="344" y="96.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="344" y="100.964"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="231" y="122.9591">Telegraf</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="231" y="139.256">(data collector)</text><!--MD5=[7468467f3b6b392f1d176d828c753b77]
entity db--><path d="M63,412.464 C63,402.464 112,402.464 112,402.464 C112,402.464 161,402.464 161,412.464 L161,454.0578 C161,464.0578 112,464.0578 112,464.0578 C112,464.0578 63,464.0578 63,454.0578 L63,412.464 " fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M63,412.464 C63,422.464 112,422.464 112,422.464 C112,422.464 161,422.464 161,412.464 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="78" x="73" y="439.4591">«InfluxDB»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="78" y="455.756">Database</text><!--MD5=[b8fb08849632f9ff0fdc2d033176a093]
entity influx--><ellipse cx="112" cy="266.964" fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="87.5" y="296.9591">DB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="87.5" y="313.256">Access</text><!--MD5=[97029dda41c7f1332efacff3a5502fd8]
entity grafana--><rect fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="85" y="98.464"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="161" y="103.464"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="159" y="105.464"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="159" y="109.464"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="100" y="131.4591">Grafana</text><!--MD5=[d6de0bea540cdcc3f07dc5dde60e897f]
entity HTTPS--><ellipse cx="41" cy="121.464" fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="18" y="151.4591">HTTPS</text><!--MD5=[e12fdb32cd01413c3e9353981b686a91]
entity pc--><rect fill="#FEFECE" filter="url(#f1gqe3qsce2ymo)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="261.5" y="555.964"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="350.5" y="560.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="348.5" y="562.964"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="348.5" y="566.964"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="276.5" y="588.9591">Admin PC</text><!--MD5=[c79e61e36d0f3b9dc33be35e67b459af]
link telegraf to mqtt--><path d="M305.159,153.248 C319.455,184.333 340.848,230.845 351.103,253.143 " fill="none" id="telegraf-&gt;mqtt" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="353.231,257.77,353.1033,247.922,351.1412,253.2277,345.8356,251.2656,353.231,257.77" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[57bd967ff4c239d618c4badc9f6e4811]
link telegraf to influx--><path d="M249.37,153.024 C223.536,172.306 189.875,198.012 161,221.964 C148.372,232.439 134.505,244.996 124.756,254.009 " fill="none" id="telegraf-&gt;influx" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="120.845,257.639,130.1625,254.4476,124.5095,254.2373,124.7198,248.5844,120.845,257.639" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c042fde213c17a30b80b8149678d0731]
link grafana to influx--><path d="M129.765,144.571 C125.337,174.831 117.527,228.196 113.922,252.828 " fill="none" id="grafana-&gt;influx" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="113.18,257.902,118.4416,249.5764,113.9043,252.9547,110.5259,248.4175,113.18,257.902" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[50c77089c589a91ec8a711cd0881c863]
link HTTPS to grafana--><path d="M50.3438,121.464 C61.8597,121.464 73.3756,121.464 84.8915,121.464 " fill="none" id="HTTPS-grafana" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[345fe6ea5a2c53430aa8b58948c78bfa]
link ldo to USB--><path d="M1011,153.248 C1011,184.072 1011,230.064 1011,252.576 " fill="none" id="ldo-&gt;USB" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1011,257.77,1015,248.77,1011,252.77,1007,248.77,1011,257.77" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[45380c566abade9089cd317e85bd2b66]
link esp32 to mqtt--><path d="M689.46,154.929 C683.559,156.992 677.699,159.02 672,160.964 C588.462,189.465 566.672,193.856 483,221.964 C442.16,235.683 394.176,252.685 370.97,260.964 " fill="none" id="esp32-&gt;mqtt" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="366.144,262.687,375.9649,263.4283,370.8529,261.006,373.2752,255.894,366.144,262.687" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[526db56c82af37a2bea985ede5c673dc]
link esp32 to VSPI--><path d="M776.564,161.297 C774.482,194.499 771.647,239.706 770.506,257.896 " fill="none" id="esp32-VSPI" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3deab21d6a581d6968da7c7aea882ce1]
link esp32 to HSPI--><path d="M812.556,161.297 C841.246,194.499 880.311,239.706 896.028,257.896 " fill="none" id="esp32-HSPI" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3f78c60150529f64063af360f95ff990]
link esp32 to I2C--><path d="M752.75,161.297 C730.307,194.499 699.749,239.706 687.454,257.896 " fill="none" id="esp32-I2C" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[280ed3b6420dc2f18c4b4c94ff6f3872]
link esp32 to DAC--><path d="M868.508,121.464 C880.326,121.464 892.144,121.464 903.963,121.464 " fill="none" id="esp32-DAC" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6e4f9c723936202f83a0db83889afbbd]
link esp32 to GPIO--><path d="M791.178,161.297 C801.589,194.499 815.766,239.706 821.47,257.896 " fill="none" id="esp32-GPIO" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[278e79d49732905aef13c02b944003ee]
link BME280 to I2C--><path d="M599.525,153.248 C622.461,184.594 656.876,231.627 673.027,253.7 " fill="none" id="BME280-&gt;I2C" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="676.004,257.77,673.9183,248.1445,673.0518,253.7346,667.4617,252.8681,676.004,257.77" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e1a0c3e484a8a2ace0881b3277223f98]
link mqtt_broker to mqtt--><path d="M313.207,266.964 C324.725,266.964 336.244,266.964 347.762,266.964 " fill="none" id="mqtt_broker-mqtt" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[a23daa79c3635e2bc44fe220f542bc88]
link influx to db--><path d="M112,276.348 C112,299.263 112,363.802 112,402.349 " fill="none" id="influx-db" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[77281371cbe17212660399f681755920]
link piso_sr to module_inputs--><path d="M1059.11,473.297 C1026.72,506.499 982.617,551.7065 964.871,569.896 " fill="none" id="piso_sr-module_inputs" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[122ed323326c1f4181d4d1449d225cd1]
link sipo_sr to module_outputs--><path d="M937.983,472.992 C938.4,488.955 935.95,506.781 926,519.964 C888.264,569.9603 803.302,576.9261 775.211,577.8437 " fill="none" id="sipo_sr-module_outputs" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f2ed3e50683a43c0e0370932f1580cac]
reverse link HSPI to sipo_sr--><path d="M905.36,281.35 C909.631,305.575 918.79,357.531 925.169,393.716 " fill="none" id="HSPI&lt;-sipo_sr" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="904.478,276.348,902.1021,285.906,905.3465,281.272,909.9805,284.5164,904.478,276.348" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0881381e9b0982e9a1525cf380be9d01]
reverse link HSPI to piso_sr--><path d="M913.211,280.193 C923.214,291.598 939.344,308.525 956,319.964 C983.379,338.768 997.241,331.287 1024,350.964 C1040.22,362.892 1055.53,378.915 1067.89,393.597 " fill="none" id="HSPI&lt;-piso_sr" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="909.814,276.262,912.6735,285.6866,913.0838,280.0446,918.7258,280.4549,909.814,276.262" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e919681ba140d8536dcc86cca8ecedbd]
reverse link GPIO to piso_sr--><path d="M833.044,280.237 C842.599,292.276 858.785,310.205 877,319.964 C906.428,335.731 995.096,334.257 1024,350.964 C1042.25,361.516 1058.4,378.239 1070.84,393.799 " fill="none" id="GPIO&lt;-piso_sr" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="829.832,276.095,832.1842,285.6588,832.8952,280.0468,838.5072,280.7578,829.832,276.095" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7f2690f677423a4b5ddb2026b8d9c4f7]
reverse link GPIO to sipo_sr--><path d="M828.226,281.037 C833.515,296.476 843.428,322.625 856,342.964 C867.04,360.824 881.499,378.8 894.838,393.908 " fill="none" id="GPIO&lt;-sipo_sr" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="826.612,276.236,825.6872,286.0413,828.2047,280.9755,833.2705,283.493,826.612,276.236" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[af0093a4aec23b0720f689f0477a17cc]
link sipo_sr to sipo_sr--><path d="M988.43,418.84 C1007.6,418.763 1023,423.638 1023,433.464 C1023,442.369 1010.35,447.207 993.712,447.979 " fill="none" id="sipo_sr-&gt;sipo_sr" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="988.43,448.088,997.5104,451.9021,993.4289,447.9852,997.3458,443.9037,988.43,448.088" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[46e968cde3143f33ebf77cb2e9a5392e]
link piso_sr to piso_sr--><path d="M1153.43,418.84 C1172.6,418.763 1188,423.638 1188,433.464 C1188,442.369 1175.35,447.207 1158.71,447.979 " fill="none" id="piso_sr-&gt;piso_sr" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1153.43,448.088,1162.5191,451.8813,1158.4287,447.9737,1162.3362,443.8834,1153.43,448.088" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[796eeac39735c71ce801715c988e0d90]
link id_eeprom to module_outputs--><path d="M765.337,465.332 C765.064,481.587 764.844,501.854 765,519.964 C765.131,535.196 765.457,552.675 765.701,564.4291 " fill="none" id="id_eeprom-&gt;module_outputs" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="765.813,569.7045,769.6208,560.6215,765.7067,564.7056,761.6226,560.7916,765.813,569.7045" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="766" y="516.0309">CS# pin</text><!--MD5=[2355b1c068e2f392642548d30aa129ba]
link id_eeprom to VSPI--><path d="M766.748,401.686 C767.625,365.63 769.038,307.512 769.673,281.412 " fill="none" id="id_eeprom-&gt;VSPI" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="769.796,276.348,765.5786,285.2482,769.6746,281.3465,773.5763,285.4425,769.796,276.348" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c91d9c47721cc02b37e630482fb73ec0]
link sensor to VSPI--><path d="M601.239,401.874 C631.591,379.63 673.286,348.534 709,319.964 C725.793,306.531 744.539,290.367 756.762,279.665 " fill="none" id="sensor-&gt;VSPI" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="760.644,276.256,751.2417,279.1879,756.8866,279.5548,756.5197,285.1997,760.644,276.256" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ef628802d36093023f925f048da8f91e]
link sensor to module_outputs--><path d="M603.153,465.072 C650.49,497.888 722.844,548.0464 752.554,568.643 " fill="none" id="sensor-&gt;module_outputs" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="756.946,571.6876,751.8282,563.2728,752.8368,568.8391,747.2705,569.8476,756.946,571.6876" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[faceb3de2b182e610c5e2915121571d1]
link sensor to module_inputs--><path d="M613.761,465.097 C632.078,474.055 652.947,482.921 673,488.464 C737.13,506.191 758.477,483.171 822,502.964 C869.996,517.919 920.105,551.2003 943.485,567.9404 " fill="none" id="sensor-&gt;module_inputs" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="947.796,571.0575,942.8469,562.5424,943.7443,568.1276,938.1591,569.0251,947.796,571.0575" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="862" y="516.0309">(optional)</text><!--MD5=[2ced413ee437ea2e5b47f8dac25b1fec]
link sensor to measurement--><path d="M559,465.248 C559,498.684 559,549.9683 559,569.7701 " fill="none" id="sensor-measurement" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f174539a22cafb164b5c387fe4421218]
reverse link I2C to sensor--><path d="M672.668,280.444 C653.523,306.049 609.311,365.178 582.014,401.686 " fill="none" id="I2C&lt;-sensor" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="675.731,276.348,667.1379,281.1603,672.7367,280.3523,673.5447,285.9511,675.731,276.348" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[05f837244fd78870e11057dac7b42b0d]
reverse link mqtt to pc--><path d="M352.745,281.116 C347.673,297.35 339.338,325.889 335,350.964 C322.124,425.394 317.885,515.121 316.562,555.8877 " fill="none" id="mqtt&lt;-pc" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="354.33,276.105,347.801,283.4788,352.8215,280.872,355.4283,285.8924,354.33,276.105" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="336" y="438.0309">&lt;for config etc.&gt;</text><!--MD5=[7f97603f6b8ff91e215f1d0300e89684]
reverse link piso_sr to sensor--><!--MD5=[01fff828b69fb69cfbf0d31e5e5d5117]
reverse link DAC to ldo--><!--MD5=[5f0d873286f21e5e06d3efc68b1bcba6]
reverse link BME280 to ldo--><!--MD5=[cf0b0090bf1bdfb12bbaa71094af15d9]
reverse link I2C to GPIO--><!--MD5=[39bffbe1e87f07b3b9f3991d7b7cf8bc]
reverse link GPIO to HSPI--><path d="M838.455,266.964 C856.883,266.964 875.31,266.964 893.737,266.964 " fill="none" id="GPIO&lt;-HSPI" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="833.258,266.964,842.258,270.964,838.258,266.964,842.258,262.964,833.258,266.964" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[4e3479ab4ad20fa05ebb9cf36b960da5]
link VSPI to GPIO--><path d="M779.281,266.964 C789.489,266.964 799.697,266.964 809.905,266.964 " fill="none" id="VSPI-&gt;GPIO" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="814.917,266.964,805.917,262.964,809.917,266.964,805.917,270.964,814.917,266.964" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[efdb1262e4e1309174911cc565c3e368]
@startuml
package snode as "Sensor Node" {
    component esp32 as "Microcontroller\nWiFi Module" <<ESP-WROOM-32E>> 
    component ldo as "3.3V LDO\n>500mA"
    component BME280 as "T/P/RH% Sensor" <<BME280>> 
    interface USB as "USB (5V)"
    interface VSPI
    interface HSPI 
    interface I2C 
    interface DAC 
    interface GPIO 
}

package module as "Addon module" {
    component sipo_sr as "SIPO Shift\nRegister" <<595>>
    component piso_sr as "PISO Shift\nRegister" <<165>>
    component id_eeprom as "ID Chip" <<25AA02E64T>>
    component sensor as "Sensor/Functional ICs" <<ADS1220>> 

    interface measurement as "Measurements"
    interface module_inputs as "I/O: Inputs"
    interface module_outputs as "I/O: Outputs"
}


package server as "Server" {
    component mqtt_broker as "MQTT Broker"
    interface mqtt as "MQTT" <<Mosquitto>> 

    component telegraf as "Telegraf\n(data collector)"
    database db as "Database" <<InfluxDB>>
    interface influx as "DB\nAccess"

    component grafana as "Grafana"
    interface HTTPS 
}

component pc as "Admin PC"


telegraf ..> mqtt 
telegraf ..> influx 
grafana ..> influx 
grafana -left- HTTPS 
ldo .d.> USB  
esp32 ..> mqtt
esp32 -d- VSPI
esp32 - - HSPI
esp32 - - I2C 
esp32 -r- DAC
esp32 - - GPIO
BME280 ..> I2C
mqtt_broker - mqtt 
db -up- influx

piso_sr -d- module_inputs
sipo_sr -d- module_outputs
HSPI <.. sipo_sr
HSPI <.. piso_sr
GPIO <.. piso_sr  
GPIO <.. sipo_sr
sipo_sr - -> sipo_sr
piso_sr - -> piso_sr


id_eeprom ..> module_outputs : CS# pin 
id_eeprom ..> VSPI

sensor ..> VSPI 
sensor ..> module_outputs
sensor ..> module_inputs : (optional)
sensor -d- measurement
sensor .u.> I2C

pc .up..> mqtt : <for config etc.> 

'Tuning 
piso_sr <-[hidden] sensor
DAC <-[hidden] ldo
BME280 <-[hidden] ldo
I2C <-[hidden] GPIO

GPIO <.right. HSPI
GPIO <.left. VSPI

' Doesn't seem to play nicely layout-wise: 
'snode "1" - -o "0..*" module
@enduml

@startuml
package snode as "Sensor Node" {
    component esp32 as "Microcontroller\nWiFi Module" <<ESP-WROOM-32E>> 
    component ldo as "3.3V LDO\n>500mA"
    component BME280 as "T/P/RH% Sensor" <<BME280>> 
    interface USB as "USB (5V)"
    interface VSPI
    interface HSPI 
    interface I2C 
    interface DAC 
    interface GPIO 
}

package module as "Addon module" {
    component sipo_sr as "SIPO Shift\nRegister" <<595>>
    component piso_sr as "PISO Shift\nRegister" <<165>>
    component id_eeprom as "ID Chip" <<25AA02E64T>>
    component sensor as "Sensor/Functional ICs" <<ADS1220>> 

    interface measurement as "Measurements"
    interface module_inputs as "I/O: Inputs"
    interface module_outputs as "I/O: Outputs"
}


package server as "Server" {
    component mqtt_broker as "MQTT Broker"
    interface mqtt as "MQTT" <<Mosquitto>> 

    component telegraf as "Telegraf\n(data collector)"
    database db as "Database" <<InfluxDB>>
    interface influx as "DB\nAccess"

    component grafana as "Grafana"
    interface HTTPS 
}

component pc as "Admin PC"


telegraf ..> mqtt 
telegraf ..> influx 
grafana ..> influx 
grafana -left- HTTPS 
ldo .d.> USB  
esp32 ..> mqtt
esp32 -d- VSPI
esp32 - - HSPI
esp32 - - I2C 
esp32 -r- DAC
esp32 - - GPIO
BME280 ..> I2C
mqtt_broker - mqtt 
db -up- influx

piso_sr -d- module_inputs
sipo_sr -d- module_outputs
HSPI <.. sipo_sr
HSPI <.. piso_sr
GPIO <.. piso_sr  
GPIO <.. sipo_sr
sipo_sr - -> sipo_sr
piso_sr - -> piso_sr


id_eeprom ..> module_outputs : CS# pin 
id_eeprom ..> VSPI

sensor ..> VSPI 
sensor ..> module_outputs
sensor ..> module_inputs : (optional)
sensor -d- measurement
sensor .u.> I2C

pc .up..> mqtt : <for config etc.> 

piso_sr <-[hidden] sensor
DAC <-[hidden] ldo
BME280 <-[hidden] ldo
I2C <-[hidden] GPIO

GPIO <.right. HSPI
GPIO <.left. VSPI

@enduml

PlantUML version 1.2020.16beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>